<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ° Mega Text Casino</title>
<style>
body { font-family: monospace; background:#111; color:#0f0; padding:20px;}
#casino {border:2px solid #0f0; padding:20px; max-width:1000px; margin:auto; border-radius:12px; background:#000; box-shadow:0 0 15px #0f0;}
h2,h3 {color:#0ff; text-align:center;}
.menu {display:flex; flex-wrap:wrap; gap:6px; justify-content:center; margin-bottom:20px;}
button {padding:6px 10px; background:black; color:#0f0; border:1px solid #0f0; border-radius:6px; cursor:pointer; transition:.2s; font-size:14px;}
button:hover {background:#0f0; color:black;}
.game {display:none; border:1px dashed #0f0; padding:15px; border-radius:10px; margin-top:10px;}
#log {margin-top:20px; padding:10px; background:#111; border:1px solid #0f0; border-radius:8px; min-height:50px;}
#usernameBox {margin-bottom:15px; text-align:center;}
input {background:black; color:#0f0; border:1px solid #0f0; padding:5px; border-radius:6px;}
#leaderboard {margin-top:20px; padding:10px; border:2px solid #0ff; border-radius:8px; background:#111;}
#leaderboard h3 {color:#0ff;}
#leaderboard ol {padding-left:20px;}
</style>
</head>
<body>
<div id="casino">
<h2>ğŸ° Mega Text Casino</h2>

<div id="usernameBox">
<p><strong>Player:</strong> <span id="username">Guest</span></p>
<input type="text" id="usernameInput" placeholder="Enter your username">
<button id="setUsernameBtn" onclick="setUsername()">Set Username</button>
<p id="usernameMsg"></p>
</div>

<p><strong>Money:</strong> $<span id="money">100</span></p>
<p><strong>Your High Score:</strong> $<span id="highscore">100</span></p>

<div class="menu">
<button onclick="showGame('coin')">ğŸª™ Coin Flip</button>
<button onclick="showGame('dice')">ğŸ² Dice Odd/Even</button>
<button onclick="showGame('lucky7')">ğŸ€ Lucky 7</button>
<button onclick="showGame('slots')">ğŸ° Slot Machine</button>
<button onclick="showGame('roulette')">ğŸ¡ Roulette</button>
<button onclick="showGame('blackjack')">ğŸƒ Blackjack</button>
<button onclick="showGame('guess')">ğŸ”¢ Number Guess</button>
<button onclick="showGame('rps')">âœŠ Rock Paper Scissors</button>
<button onclick="showGame('lotto')">ğŸŸï¸ Jackpot Lotto</button>
<button onclick="showGame('horse')">ğŸ Horse Race</button>
<button onclick="showGame('war')">âš”ï¸ War</button>
<button onclick="showGame('higher')">â¬†ï¸ Higher Card</button>
<button onclick="showGame('craps')">ğŸ² Craps Lite</button>
<button onclick="showGame('wheel')">ğŸ¡ Wheel of Fortune</button>
<button onclick="showGame('robbery')">ğŸ’° Bank Robbery</button>
<button onclick="showGame('double')">ğŸ’µ Double or Nothing</button>
<button onclick="showGame('crash')">ğŸ“ˆ Crash Game</button>
<button onclick="showGame('hotcold')">ğŸ”¥ Hot or Cold</button>
<button onclick="showGame('doors')">ğŸšª Lucky Doors</button>
<button onclick="showGame('highroll')">ğŸ² High Roll</button>
</div>

<!-- GAMES -->
<div id="coin" class="game"><h3>ğŸª™ Coin Flip</h3><button onclick="coinFlip('heads')">Heads</button><button onclick="coinFlip('tails')">Tails</button></div>
<div id="dice" class="game"><h3>ğŸ² Dice Odd/Even</h3><button onclick="diceRoll('odd')">Odd</button><button onclick="diceRoll('even')">Even</button></div>
<div id="lucky7" class="game"><h3>ğŸ€ Lucky 7</h3><button onclick="luckySeven()">Bet $10</button></div>
<div id="slots" class="game"><h3>ğŸ° Slot Machine</h3><button onclick="slotMachine()">Spin $10</button></div>
<div id="roulette" class="game"><h3>ğŸ¡ Roulette</h3><button onclick="roulette('red')">Red</button><button onclick="roulette('black')">Black</button></div>
<div id="blackjack" class="game"><h3>ğŸƒ Blackjack</h3><button onclick="blackjackStart()">Play $10</button></div>
<div id="guess" class="game"><h3>ğŸ”¢ Number Guess</h3><button onclick="numberGuess()">Play $10</button></div>
<div id="rps" class="game"><h3>âœŠ Rock Paper Scissors</h3><button onclick="rps('rock')">Rock</button><button onclick="rps('paper')">Paper</button><button onclick="rps('scissors')">Scissors</button></div>
<div id="lotto" class="game"><h3>ğŸŸï¸ Jackpot Lotto</h3><button onclick="lotto()">Play $10</button></div>
<div id="horse" class="game"><h3>ğŸ Horse Race</h3><button onclick="horseRace(1)">Horse 1</button><button onclick="horseRace(2)">Horse 2</button><button onclick="horseRace(3)">Horse 3</button><button onclick="horseRace(4)">Horse 4</button></div>
<div id="war" class="game"><h3>âš”ï¸ War</h3><button onclick="war()">Draw Card</button></div>
<div id="higher" class="game"><h3>â¬†ï¸ Higher Card</h3><button onclick="higherCard()">Play $10</button></div>
<div id="craps" class="game"><h3>ğŸ² Craps Lite</h3><button onclick="craps()">Roll Dice</button></div>
<div id="wheel" class="game"><h3>ğŸ¡ Wheel of Fortune</h3><button onclick="wheel()">Spin</button></div>
<div id="robbery" class="game"><h3>ğŸ’° Bank Robbery</h3><button onclick="robbery()">Attempt $10</button></div>
<div id="double" class="game"><h3>ğŸ’µ Double or Nothing</h3><button onclick="doubleOrNothing()">Play $10</button></div>
<div id="crash" class="game"><h3>ğŸ“ˆ Crash Game</h3><button onclick="crash()">Start $10</button></div>
<div id="hotcold" class="game"><h3>ğŸ”¥ Hot or Cold</h3><button onclick="hotCold()">Play $10</button></div>
<div id="doors" class="game"><h3>ğŸšª Lucky Doors</h3><button onclick="doors(1)">Door 1</button><button onclick="doors(2)">Door 2</button><button onclick="doors(3)">Door 3</button></div>
<div id="highroll" class="game"><h3>ğŸ² High Roll</h3><button onclick="highRoll()">Roll $10</button></div>

<p id="log">Welcome to the casino! Pick a game.</p>

<div id="leaderboard">
<h3>ğŸ† Leaderboard</h3>
<ol id="leaderboardList"></ol>
</div>
</div>

<script>
// ---------------- USER & SAVE ----------------
let money = 100, username = "Guest", highscore = 100;

// Load save
window.onload = () => {
    let save = JSON.parse(localStorage.getItem("casinoSave")) || {};
    if(save.username){
        username = save.username;
        money = save.money || 100;
        highscore = save.highscore || money;
        document.getElementById("username").innerText = username;
        document.getElementById("money").innerText = money;
        document.getElementById("highscore").innerText = highscore;
        document.getElementById("usernameInput").style.display="none";
        document.getElementById("setUsernameBtn").style.display="none";
    }
    updateLeaderboard();
}

// Set username permanently
function setUsername(){
    let newName = document.getElementById("usernameInput").value.trim();
    if(!newName){document.getElementById("usernameMsg").innerText="Enter a valid username!"; return;}
    username = newName;
    document.getElementById("username").innerText=username;
    document.getElementById("usernameMsg").innerText="âœ… Username saved permanently!";
    document.getElementById("usernameInput").style.display="none";
    document.getElementById("setUsernameBtn").style.display="none";
    saveGame();
}

// Save data
function saveGame(){
    let save = {username, money, highscore: Math.max(highscore, money)};
    localStorage.setItem("casinoSave", JSON.stringify(save));

    // Update leaderboard
    let board = JSON.parse(localStorage.getItem("leaderboard")) || {};
    board[username] = Math.max(board[username]||0, money);
    localStorage.setItem("leaderboard", JSON.stringify(board));
    updateLeaderboard();
}

// Update money
function updateMoney(amount){
    money += amount;
    if(money > highscore){highscore = money; document.getElementById("highscore").innerText=highscore;}
    document.getElementById("money").innerText=money;
    saveGame();
    if(money<=0){log("You're out of money! ğŸ’€"); document.querySelectorAll("button").forEach(btn=>btn.disabled=true);}
}

// Leaderboard
function updateLeaderboard(){
    let board = JSON.parse(localStorage.getItem("leaderboard")) || {};
    let sorted = Object.entries(board).sort((a,b)=>b[1]-a[1]);
    let list = document.getElementById("leaderboardList");
    list.innerHTML="";
    sorted.forEach(([name,score])=>{let li=document.createElement("li"); li.textContent=`${name}: $${score}`; list.appendChild(li);});
}

// UI helpers
function log(msg){document.getElementById("log").innerText=msg;}
function showGame(id){document.querySelectorAll('.game').forEach(div=>div.style.display="none");document.getElementById(id).style.display="block";log("Playing: "+id);}

// ---------------- MINI GAMES ----------------
function coinFlip(c){let r=Math.random()<0.5?"heads":"tails"; r===c?(updateMoney(10),log("Coin: "+r+" Win $10")):(updateMoney(-10),log("Coin: "+r+" Lose $10"));}
function diceRoll(c){let r=Math.floor(Math.random()*6)+1; let res=r%2===0?"even":"odd"; res===c?(updateMoney(10),log(`Dice ${r} (${res}) Win $10`)):(updateMoney(-10),log(`Dice ${r} (${res}) Lose $10`));}
function luckySeven(){let r=Math.floor(Math.random()*12)+1; r===7?(updateMoney(30),log("Rolled 7! Jackpot +$30")):(updateMoney(-10),log("Rolled "+r+" Lose $10"));}
function slotMachine(){let s=["ğŸ’","ğŸ‹","ğŸ””","â­","ğŸ’"]; let a=s[Math.random()*s.length|0],b=s[Math.random()*s.length|0],c=s[Math.random()*s.length|0]; if(a===b&&b===c){updateMoney(50); log(`ğŸ° ${a}|${b}|${c} JACKPOT +$50`);} else if(a===b||b===c||a===c){updateMoney(20); log(`ğŸ° ${a}|${b}|${c} Two match +$20`);} else{updateMoney(-10); log(`ğŸ° ${a}|${b}|${c} Lose $10`);}}
function roulette(c){let n=Math.floor(Math.random()*36); let color=n%2===0?"red":"black"; c===color?(updateMoney(10),log(`Roulette ${n} (${color}) Win $10`)):(updateMoney(-10),log(`Roulette ${n} (${color}) Lose $10`));}
function blackjackStart(){let p=Math.floor(Math.random()*11)+10; let d=Math.floor(Math.random()*11)+10; if((p>d&&p<=21)||d>21){updateMoney(10);log(`You:${p} Dealer:${d} Win $10`);}else if((d>p&&d<=21)||p>21){updateMoney(-10);log(`You:${p} Dealer:${d} Lose $10`);}else{log(`You:${p} Dealer:${d} Tie`);}}
function numberGuess(){let g=Math.floor(Math.random()*10)+1; let w=Math.floor(Math.random()*10)+1; g===w?(updateMoney(50),log(`Guess ${g}, Number ${w} ğŸ‰ +$50`)):(updateMoney(-10),log(`Guess ${g}, Number ${w} Lose $10`));}
function rps(c){let o=["rock","paper","scissors"]; let comp=o[Math.random()*3|0]; if(c===comp){log(`Tie: ${c}`);} else if((c==="rock"&&comp==="scissors")||(c==="paper"&&comp==="rock")||(c==="scissors"&&comp==="paper")){updateMoney(10);log(`You:${c} Comp:${comp} Win $10`);}else{updateMoney(-10);log(`You:${c} Comp:${comp} Lose $10`);}}
function lotto(){let pick=[0,0,0].map(()=>Math.floor(Math.random()*10)); let draw=[0,0,0].map(()=>Math.floor(Math.random()*10)); pick+""===draw+""?(updateMoney(200),log(`Your:${pick} Draw:${draw} JACKPOT +$200`)):(updateMoney(-10),log(`Your:${pick} Draw:${draw} Lose $10`));}
function horseRace(c){let w=Math.floor(Math.random()*4)+1; c===w?(updateMoney(30),log(`Horse ${w} won! +$30`)):(updateMoney(-10),log(`Horse ${w} won, you picked ${c}. Lose $10`));}
function war(){let p=Math.floor(Math.random()*13)+2; let d=Math.floor(Math.random()*13)+2; p>d?(updateMoney(10),log(`You:${p} Dealer:${d} Win $10`)):p<d?(updateMoney(-10),log(`You:${p} Dealer:${d} Lose $10`)):log(`You:${p} Dealer:${d} Tie`);}
function higherCard(){let p=Math.floor(Math.random()*13)+2; let d=Math.floor(Math.random()*13)+2; p>d?(updateMoney(10),log(`You:${p} Dealer:${d} Win $10`)):p<d?(updateMoney(-10),log(`You:${p} Dealer:${d} Lose $10`)):log(`You:${p} Dealer:${d} Tie`);}
function craps(){let d1=Math.floor(Math.random()*6)+1; let d2=Math.floor(Math.random()*6)+1; let total=d1+d2; total==7||total==11?(updateMoney(20),log(`Craps ${d1}+${d2}=${total} Win $20`)):(updateMoney(-10),log(`Craps ${d1}+${d2}=${total} Lose $10`));}
function wheel(){let colors=["red","black","green"]; let spin=colors[Math.random()*3|0]; spin==="green"?updateMoney(50):(spin==="red"?updateMoney(10):updateMoney(-10)); log(`Wheel: ${spin}`);}
function robbery(){Math.random()<0.3?(updateMoney(50),log("Robbery Success! +$50")):(updateMoney(-20),log("Robbery Failed! Lose $20"));}
function doubleOrNothing(){Math.random()<0.5?(updateMoney(money),log("Double!")):(updateMoney(-money),log("Nothing!"));}
function crash(){let crash=Math.random()*5+1; let bet=10; updateMoney(bet*(crash>3?2:-1)); log(`Crash multiplier: ${crash.toFixed(2)} ${crash>3?"+$20":"-$10"}`);}
function hotCold(){let target=Math.floor(Math.random()*100); let guess=Math.floor(Math.random()*100); let diff=Math.abs(target-guess); diff<20?updateMoney(20):updateMoney(-10); log(`Target:${target} Guess:${guess} ${diff<20?"+$20":"-$10"}`);}
function doors(choice){let prize=Math.floor(Math.random()*3)+1; choice===prize?updateMoney(30):updateMoney(-10); log(`Prize:${prize} You chose:${choice} ${choice===prize?"+$30":"-$10"}`);}
function highRoll(){let roll=Math.floor(Math.random()*100)+1; roll>50?updateMoney(20):updateMoney(-10); log(`High Roll:${roll} ${roll>50?"+$20":"-$10"}`);}
</script>
</body>
</html>
